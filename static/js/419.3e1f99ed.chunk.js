"use strict";(self.webpackChunkkaharcareer=self.webpackChunkkaharcareer||[]).push([[419],{5419:(t,e,a)=>{a.r(e),a.d(e,{default:()=>c});var o=a(5043),n=a(338),r=a(579);const c=()=>{const[t,e]=(0,o.useState)([]),[a,c]=(0,o.useState)({type:"",title:"",content:""});(0,o.useEffect)((()=>{(async()=>{const t=await(0,n.P_)("tools");e(t)})()}),[]);return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Admin Tools"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Add New Tool"}),(0,r.jsx)("input",{type:"text",placeholder:"Type (SQL, Note, Snippet)",value:a.type,onChange:t=>c({...a,type:t.target.value}),className:"border p-2 mb-2 w-full"}),(0,r.jsx)("input",{type:"text",placeholder:"Title",value:a.title,onChange:t=>c({...a,title:t.target.value}),className:"border p-2 mb-2 w-full"}),(0,r.jsx)("textarea",{placeholder:"Content",value:a.content,onChange:t=>c({...a,content:t.target.value}),className:"border p-2 mb-2 w-full"}),(0,r.jsx)("button",{onClick:async()=>{await(0,n.tI)("tools",a),e(await(0,n.P_)("tools")),c({type:"",title:"",content:""})},className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Add Tool"})]}),(0,r.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Existing Tools"}),t.map((a=>(0,r.jsxs)("div",{className:"border p-4 mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-bold",children:a.title}),(0,r.jsx)("p",{children:a.content}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:a.type}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Created: ",new Date(a.created_at).toLocaleString()]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Updated: ",new Date(a.updated_at).toLocaleString()]}),(0,r.jsx)("button",{onClick:()=>(async a=>{const o=prompt("Edit Tool:",JSON.stringify(t.find((t=>t.id===a))));o&&(await(0,n.lU)("tools",a,JSON.parse(o)),e(await(0,n.P_)("tools")))})(a.id),className:"bg-yellow-500 text-white px-4 py-2 rounded mr-2",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>(async t=>{await(0,n.Nn)("tools",t),e(await(0,n.P_)("tools"))})(a.id),className:"bg-red-500 text-white px-4 py-2 rounded",children:"Delete"})]},a.id)))]})}},338:(t,e,a)=>{a.d(e,{Nn:()=>l,P_:()=>d,QM:()=>i,lU:()=>s,tI:()=>c});var o=a(915),n=a(5472),r=a(8147);const c=async(t,e)=>{try{const a=(new Date).toISOString();await(0,n.gS)((0,n.rJ)(o.db,t),{...e,created_at:a,updated_at:a})}catch(a){console.error("Error adding document to ".concat(t,":"),a)}},s=async(t,e,a)=>{try{const r=(new Date).toISOString(),c=(0,n.H9)(o.db,t,e);await(0,n.mZ)(c,{...a,updated_at:r})}catch(r){console.error("Error updating document in ".concat(t,":"),r)}},l=async(t,e)=>{try{const a=(0,n.H9)(o.db,t,e);await(0,n.kd)(a)}catch(a){console.error("Error deleting document from ".concat(t,":"),a)}},d=async t=>{try{return(await(0,n.GG)((0,n.rJ)(o.db,t))).docs.map((t=>({id:t.id,...t.data()})))}catch(e){return console.error("Error fetching documents from ".concat(t,":"),e),[]}},i=async(t,e)=>{try{const a=(0,r.KR)(o.IG,"".concat(e,"/").concat(t.name));await(0,r.D)(a,t);const c=await(0,r.qk)(a);return await(0,n.gS)((0,n.rJ)(o.db,e),{url:c,created_at:(new Date).toISOString()}),c}catch(a){throw console.error("Error uploading file:",a),a}}}}]);
//# sourceMappingURL=419.3e1f99ed.chunk.js.map